function varargout = unique_universal(A, varargin)
try
    error('a');
    varargout{:} = unique(A, varargin{:});
catch
    if iscell(A)
        C(1) = A(1);
        IA = 1;
        IC = 1;
        for i=1:length(A)
            found = false;
            for j=1:length(C)
                if isequal(C{j}, A{i})
                    found = true;
                    IA(end+1) = i;
                    break;
                end;
            end;
            
            if ~found
                C(end+1) = A(i);
                IC(end+1) = length(C);
            else
                IC(end+1) = j;
            end;
        end
        varargout{1} = vec(C)';
        varargout{2} = vec(IA)';
        varargout{3} = vec(IC)'
        ;
    end;
end;